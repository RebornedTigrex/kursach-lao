<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Преподаватели</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>



<body>
    <script src="../scripts/sidebar.js"></script>
    <script>
        // Индекс активного пункта: 0 - расписание, 1 - предметы, 2 - преподаватели, 3 - аудитории, 4 - настройки
        insertSidebar(2); // Например, для страницы предметов
    </script>

    <div class="entity-list">
        <h2>Список преподавателей</h2>
        <ul id="teachers-list"></ul>
        <form id="add-teacher-form">
            <input type="text" id="teacher-name" placeholder="Введите ФИО преподавателя" required>
            <button type="submit">Добавить</button>
        </form>
    </div>

    <script src="/scripts/entity_select_updater.js"></script>
    
    <script>
        function getTeachers() {
            return JSON.parse(localStorage.getItem('teachers') || '[]');
        }
        function saveTeachers(teachers) {
            localStorage.setItem('teachers', JSON.stringify(teachers));
        }
        function renderTeachers() {
            const ul = document.getElementById('teachers-ul');
            ul.innerHTML = '';
            getTeachers().forEach(teacher => {
                const li = document.createElement('li');
                li.textContent = teacher;
                ul.appendChild(li);
            });
        }
        document.getElementById('add-teacher-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const input = document.getElementById('teacher-input');
            const value = input.value.trim();
            if (!value) return;
            const teachers = getTeachers();
            if (!teachers.includes(value)) {
                teachers.push(value);
                saveTeachers(teachers);
                renderTeachers();
                window.localStorage.setItem('teachers_updated', Date.now());
            }
            input.value = '';
        });
        window.addEventListener('storage', function(e) {
            if (e.key === 'teachers') renderTeachers();
        });
        renderTeachers();
    </script>
</body>
</html>